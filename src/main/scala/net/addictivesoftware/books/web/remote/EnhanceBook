package net.addictivesoftware.books.web.remote {


  import net.addictivesoftware.books.web.model.Book

  class EnhanceBook {

    def enhanceBookByIsbn(book : Book) : Book = {
      val client = new AmazonApiClient()
      val result = client.getBookInformationForIsbn(book.isbn.is)

      if (result\"ItemLookupResponse"\"Items"\"Request"\"IsValid".last == "True") {
        val itemAttributes = result\"ItemLookupResponse"\"Items"\"ItemAttributes"

        if (Empty(book.title)) book.title = itemAttributes\"Title".last
        if (Empty(book.publisher)) book.publisher = itemAttributes\"Publisher".last
      }
    }
  }

}